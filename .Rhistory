theme_minimal()
length_width <- ggplot(df, aes(x=length_mm, y=width_mm, color=population)) +
geom_point(alpha=0.3) +
xlim(0,1) + ylim(0,1) +
labs(color="") +
theme(
legend.position = "none",
plot.background = element_rect(fill = "white")) +
guides(color = guide_legend(override.aes = list(shape = NA)))
hist_labels <- c("","" ,"", "")
double_plot <- plot_grid(density_plot, length_width, labels=hist_labels, label_size=12, ncol = 2, rel_widths = c(3, 2))
ggsave("plots/all_populations.png", double_plot, width=10, height=5, units="in")
library(cowplot)
library(ggplot2)
library(ggridges)
#theme_set(theme_minimal())
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/all_lines_combined.csv"
df <- read.csv(csv_path, header = TRUE)
density_plot <- ggplot(
df,
aes(x=area_mm2, y=population, fill = stat(x))
) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis_c(name = "Seed Area [mm^2]", option = "C") +
labs(title = 'ORCC Seed Size Density by Population') +
theme(plot.background = element_rect(fill = "white"))
#theme_minimal()
length_width <- ggplot(df, aes(x=length_mm, y=width_mm, color=population)) +
geom_point(alpha=0.3) +
xlim(0,1) + ylim(0,1) +
labs(color="") +
theme(
legend.position = "none",
plot.background = element_rect(fill = "white")) +
guides(color = guide_legend(override.aes = list(shape = NA)))
hist_labels <- c("","" ,"", "")
double_plot <- plot_grid(density_plot, length_width, labels=hist_labels, label_size=12, ncol = 2, rel_widths = c(3, 2))
ggsave("plots/all_populations.png", double_plot, width=10, height=5, units="in")
library(cowplot)
library(ggplot2)
library(ggridges)
#theme_set(theme_minimal())
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/all_lines_combined.csv"
df <- read.csv(csv_path, header = TRUE)
density_plot <- ggplot(
df,
aes(x=area_mm2, y=population, fill = stat(x))
) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis_c(name = "Seed Area [mm^2]", option = "C") +
labs(title = 'ORCC Seed Size Density by Population') +
theme(plot.background = element_rect(fill = "white"))
#theme_minimal()
length_width <- ggplot(df, aes(x=length_mm, y=width_mm, color=population)) +
geom_point(alpha=0.3) +
xlim(0,1) + ylim(0,1) +
labs(color="") +
theme(
legend.position = "bottom",
legend.text = element_text(size = 6),
legend.title = element_text(size = 6),
legend.key.size = unit(5, "mm"),
legend.key.spacing.x = unit(3, "mm"),
legend.key.spacing.y = unit(3, "mm")),
library(cowplot)
library(ggplot2)
library(ggridges)
#theme_set(theme_minimal())
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/all_lines_combined.csv"
df <- read.csv(csv_path, header = TRUE)
density_plot <- ggplot(
df,
aes(x=area_mm2, y=population, fill = stat(x))
) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis_c(name = "Seed Area [mm^2]", option = "C") +
labs(title = 'ORCC Seed Size Density by Population') +
theme(plot.background = element_rect(fill = "white"))
#theme_minimal()
length_width <- ggplot(df, aes(x=length_mm, y=width_mm, color=population)) +
geom_point(alpha=0.3) +
xlim(0,1) + ylim(0,1) +
labs(color="") +
theme(
plot.background = element_rect(fill = "white"),
legend.position = "bottom",
legend.text = element_text(size = 8),
legend.title = element_text(size = 8),
legend.key.size = unit(3, "mm"),
legend.key.spacing.x = unit(3, "mm"),
legend.key.spacing.y = unit(3, "mm")) +
guides(color = guide_legend(override.aes = list(shape = NA)))
hist_labels <- c("","" ,"", "")
double_plot <- plot_grid(density_plot, length_width, labels=hist_labels, label_size=12, ncol = 2, rel_widths = c(3, 2))
ggsave("plots/all_populations.png", double_plot, width=10, height=5, units="in")
library(cowplot)
library(ggplot2)
library(ggridges)
#theme_set(theme_minimal())
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/all_lines_combined.csv"
df <- read.csv(csv_path, header = TRUE)
density_plot <- ggplot(
df,
aes(x=area_mm2, y=population, fill = stat(x))
) +
geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01) +
scale_fill_viridis_c(name = "Seed Area [mm^2]", option = "C") +
labs(title = 'ORCC Seed Size Density by Population') +
theme(plot.background = element_rect(fill = "white"))
#theme_minimal()
length_width <- ggplot(df, aes(x=length_mm, y=width_mm, color=population)) +
geom_point(alpha=0.3) +
xlim(0,1) + ylim(0,1) +
labs(color="") +
theme(
plot.background = element_rect(fill = "white"),
legend.position = "bottom",
legend.text = element_text(size = 8),
legend.title = element_text(size = 8),
legend.key.size = unit(3, "mm"),
legend.key.spacing.x = unit(3, "mm"),
legend.key.spacing.y = unit(3, "mm"))
hist_labels <- c("","" ,"", "")
double_plot <- plot_grid(density_plot, length_width, labels=hist_labels, label_size=12, ncol = 2, rel_widths = c(3, 2))
ggsave("plots/all_populations.png", double_plot, width=10, height=5, units="in")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/all_lines_combined.csv"
df <- read.csv(csv_path, header = TRUE)
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv/SWC_combined.csv"
df <- read.csv(csv_path, header = TRUE)
head(df)
str(df)
anova_seeds <- lm(area_mm2 ~ year, data = df)
anova(anova_seeds)
boxplot(area_mm ~ year, data=df)
boxplot(area_mm2 ~ year, data=df)
boxplot(area_mm2 ~ line_abbrev, data=df)
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv/BUF_combined.csv"
df <- read.csv(csv_path, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
anova(anova_seeds)
boxplot(area_mm2 ~ year, data=df)
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv/WNR_combined.csv"
df <- read.csv(csv_path, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
anova(anova_seeds)
boxplot(area_mm2 ~ year, data=df)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
df$population[1]
anova_seeds <- lm(area_mm2 ~ year, data = df)
anova(anova_seeds)
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(anova(anova_seeds))
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
print(anova(anova_seeds))
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`
if (p < 0.05) {
print(anova_frame)
} else {
print(insignificant)
}
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`
print(p)
if (p < 0.05) {
print(anova_frame)
} else {
print(insignificant)
}
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
} else {
print(insignificant)
}
} else {
print("p is NA")
}
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
is.na(4)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`
if (!is.na(p)[1]){
if (p < 0.05) {
print(anova_frame)
} else {
print(insignificant)
}
} else {
print("p is NA")
}
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
} else {
print(insignificant)
}
} else {
print("p is NA")
}
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print()
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
png(filename=paste("box_plots/", df$population[1], ".png", sep=""))
boxplot(area_mm2 ~ year, data = df)
dev.off()
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
png(filename=paste(df$population[1], ".png", sep=""))
boxplot(area_mm2 ~ year, data = df)
dev.off()
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
library(ggplot2)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
filename <- paste("box_plots/", df$population[1], ".png", sep="")
violin <- ggplot(df, aes(x=year, y=area_mm2)) + geom_violin()
ggsave(filename, violin)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
library(ggplot2)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
filename <- paste("box_plots/", df$population[1], ".png", sep="")
violin <- ggplot(df, aes(x=as.characer(year), y=area_mm2)) + geom_violin()
ggsave(filename, violin)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
library(ggplot2)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
filename <- paste("box_plots/", df$population[1], ".png", sep="")
violin <- ggplot(df, aes(x=as.character(year), y=area_mm2)) + geom_violin()
ggsave(filename, violin)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
library(ggplot2)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
filename <- paste("box_plots/", df$population[1], ".png", sep="")
violin <- ggplot(df, aes(x=as.character(year), y=area_mm2)) +
geom_violin() +
ggtitle(df$population[1])
ggsave(filename, violin)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
library(ggplot2)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
filename <- paste("box_plots/", df$population[1], ".png", sep="")
violin <- ggplot(df, aes(x=as.character(year), y=area_mm2)) +
geom_violin() +
ggtitle(df$population[1]) +
stat_summary(fun = "mean", geom = "crossbar")
ggsave(filename, violin)
} else {
print("insignificant")
}
} else {
print("p is NA")
}
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
library(ggplot2)
anova_year <- function(file_name) {
df <- read.csv(file_name, header = TRUE)
anova_seeds <- lm(area_mm2 ~ year, data = df)
print(df$population[1])
anova_frame <- anova(anova_seeds)
filename <- paste("plots/violin_insig/", df$population[1], ".png", sep="")
p <- anova_frame$`Pr(>F)`[1]
if (!is.na(p)){
if (p < 0.05) {
print(anova_frame)
filename <- paste("plots/violin_sig/", df$population[1], ".png", sep="")
}
}
violin <- ggplot(df, aes(x=as.character(year), y=area_mm2)) +
geom_violin() +
ggtitle(df$population[1]) +
stat_summary(fun = "mean", geom = "crossbar")
ggsave(filename, violin)
}
print("\n")
csv_path <- "/Users/bensims/Documents/Berkeley/Blackman Lab/ORCC Seed Imager/combined_csv"
csv_files <- list.files(path = csv_path, pattern = "\\.csv$", full.names = TRUE)
nul <- sapply(csv_files, anova_year)
